'''
A popular streaming platform allows users from around the world to watch and rate movies. Each time a user finishes watching a movie, they submit a rating on a scale of 1 to 10, where: 1 = Terrible ðŸ‘Ž 10 = Masterpiece ðŸŒŸ The platform wants to build a Movie Rating Aggregator System that will:

Store ratings in a dictionary, where: key = MovieName value = list of (User, Rating) tuples
Calculate the average rating for each movie (rounded to 2 decimal places).
Identify the best-rated movie(s).
If multiple movies share the same highest rating, print all of them
Output a report that lists all movies with their average ratings, followed by the line: BestMovie(s): ...
Input Format

First line: integer N (number of ratings) Next N lines: Movie User Rating

Constraints

1 â‰¤ N â‰¤ 500 1 â‰¤ Rating â‰¤ 10

Output Format

Print each movie with average rating Print BestMovie(s): movie1 movie2 ...

Sample Input 0

5
Avengers Alice 9
Batman Bob 8
Avengers Bob 10
Batman Alice 9
Superman Charlie 10
Sample Output 0

Avengers 9.50
Batman 8.50
Superman 10.00
BestMovie(s): Superman
Sample Input 1

3
A X 10
B Y 10
C Z 10
Sample Output 1

A 10.00
B 10.00
C 10.00
BestMovie(s): A B C
'''

from collections import OrderedDict

N = int(input())
movie_ratings = OrderedDict()

for _ in range(N):
    movie, user, rating = input().split()
    rating = int(rating)
    if movie not in movie_ratings:
        movie_ratings[movie] = []
    movie_ratings[movie].append(rating)

average_ratings = {}
for movie, ratings in movie_ratings.items():
    avg = round(sum(ratings) / len(ratings), 2)
    average_ratings[movie] = avg
    print(f"{movie} {avg:.2f}")

max_rating = max(average_ratings.values())
best_movies = [movie for movie, avg in average_ratings.items() if avg == max_rating]

print("BestMovie(s):", " ".join(best_movies))
